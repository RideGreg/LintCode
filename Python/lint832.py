class Solution:
    """
    @param nums: the sorted matrix
    @return: the number of Negative Number
    """
    def countNumber(self, nums):
        '''
        ans = 0
        i, j = 0, len(nums[0]) - 1
        for i in xrange(len(nums)):
            while j>=0 and nums[i][j] >= 0:
                j -= 1
            if j < 0: break
            ans += (j+1)
        return ans
        '''
        ans = 0
        rows, cols = len(nums), len(nums[0])
        if rows <= cols:
            j = len(nums[0]) - 1
            for row in nums:
                if row[0] >= 0:
                    break
                i = 0
                if row[j] >= 0:
                    while i < j:
                        m = (j - i) / 2 + i
                        if row[m] >= 0:
                            j = m - 1
                        else:
                            i = m + 1
                ans += (j + 1) if i > j or row[j] < 0 else j
        else:
            j = len(nums) - 1
            for c in cols:
                if nums[0][c] >= 0:
                    break
                i = 0
                if nums[j][c] >= 0:
                    while i < j:
                        m = (j - i) / 2 + i
                        if nums[m][c] >= 0:
                            j = m - 1
                        else:
                            i = m + 1
                ans += (j + 1) if i > j or nums[j][c] < 0 else j
        return ans
'''
print Solution().countNumber([
    [-5,-3,-1,0,1],
    [-2,-1,0,0,1],
    [0,11,12,12,14]
])
print Solution().countNumber([
    [-5,-3,0,0,1],
    [-2,-1,0,0,1],
    [0,11,12,12,14]
])
print Solution().countNumber([
    [-5,0,0,0,1],
    [-2,0,0,0,1],
    [0,11,12,12,14]
])
'''
print Solution().countNumber([
    [-50,-30,-10,-5],
    [-30,-20,-5,-1],
    [-10,-5,-1,0]])

print Solution().countNumber([
[-700000,-688933,-676110,-658052,-652982,-637856,-618603,-606471,-601889,-595963,-582843,-581611,-556467,-537867,-506487,-485613,-456646,-447235,-442429,-430746,-402059,-374743,-373663,-345561,-323165,-319797,-311115,-288651,-265713,-254728,-242549,-242486,-219721,-188300,-176539,-162753,-148607,-136691,-119958,-112452,-108126,-103582,-77308,-51940,-37583,-11230,15921,25664,26869,45495],
[-678293,-645635,-626110,-621496,-603983,-584342,-578694,-574302,-549538,-542154,-517668,-514907,-489326,-462373,-460953,-440559,-413733,-382393,-373126,-346041,-316504,-308845,-307526,-298095,-271521,-266846,-239061,-208924,-183499,-164171,-140940,-139517,-128345,-98322,-92584,-67040,-56661,-34619,-29859,-20763,-13679,17001,18341,45039,47760,62483,79342,89016,92932,104778],
[-666894,-639713,-625492,-593409,-570608,-558013,-544594,-529913,-519038,-513848,-503478,-496465,-487618,-445746,-444218,-415269,-384446,-377206,-359873,-337735,-305882,-285641,-264552,-262049,-260190,-248744,-237053,-183206,-161894,-142209,-119919,-95485,-77525,-47618,-26210,5851,29160,56707,76709,106248,122842,153020,169348,178379,211119,224613,246740,250869,261146,288726],
[-655310,-609433,-602480,-564086,-561906,-531472,-513387,-491544,-490591,-486071,-460691,-433873,-407788,-403700,-400888,-379088,-374950,-346017,-330272,-306503,-290879,-265314,-255728,-230685,-201167,-191779,-183124,-154804,-149762,-127531,-110820,-77439,-69212,-25566,-22493,22425,47012,63510,95214,135794,163039,170370,202866,231836,232681,246471,261313,269097,278618,297325],
[-649464,-584422,-583529,-543494,-517298,-504145,-483351,-477944,-466723,-446122,-431681,-427984,-377964,-372636,-349189,-319863,-318729,-302232,-296678,-288614,-275023,-253984,-226309,-220950,-195013,-179006,-152642,-137492,-124722,-105557,-88185,-70403,-44263,-14572,-635,50460,68714,91712,106403,143511,179773,183877,220078,245012,265218,288507,317887,330702,359590,379156],
[-647402,-557930,-534899,-520270,-485318,-469428,-468440,-449309,-428417,-396177,-364495,-337666,-312750,-304755,-273071,-257361,-231475,-226953,-217659,-195011,-188637,-181141,-154051,-139949,-125916,-109415,-106667,-94057,-78488,-66410,-57795,-52808,-31856,7843,18036,76917,98685,102675,138095,155659,181775,204399,236581,251797,279234,297047,328172,359820,369337,386304],
[-647342,-539865,-505469,-496238,-481069,-460361,-453750,-432558,-419247,-378782,-342760,-323214,-293483,-287242,-263194,-238735,-218278,-212095,-183273,-169702,-162210,-152011,-130947,-100253,-80309,-74612,-57899,-38852,-35501,-5586,-1421,22981,23493,43820,66360,107639,108946,110689,168535,182470,197342,225731,243282,272381,280791,309822,329725,361896,383180,402903],
[-643312,-536314,-478418,-458021,-425855,-413780,-408151,-398338,-381419,-348345,-329214,-304912,-276060,-267130,-233367,-220501,-207445,-202667,-151849,-125471,-101735,-96747,-92277,-79049,-66813,-55147,-35048,-32273,-3966,18215,21362,50294,64288,75988,94013,113461,136648,145866,180469,192970,213295,239905,246879,288362,313500,322114,347816,378900,387257,411493],
[-641023,-528663,-454374,-437832,-421291,-393999,-362020,-347050,-345780,-337084,-328252,-277930,-261950,-248897,-221720,-196940,-164966,-148372,-132572,-94638,-73723,-69476,-36932,-16364,11006,11631,15814,18540,21453,47865,77312,78903,89931,112751,117147,123768,154850,162119,191912,198515,241414,260375,288350,315344,338754,357956,358060,384123,402242,437526],
[-608322,-511636,-430530,-405100,-400577,-379058,-361532,-342873,-312115,-311882,-280764,-270817,-261495,-226838,-205189,-190137,-160583,-119890,-95010,-82009,-61871,-57353,-24248,-5633,33223,62837,79782,110511,143162,144783,149067,178029,210102,213235,234444,249685,267888,276580,304595,319146,337392,344423,372095,400651,412513,435797,439081,453410,485264,486500],
[-595012,-499255,-416997,-391539,-367860,-352422,-323765,-317297,-289522,-284568,-264620,-259153,-229226,-217895,-199297,-168720,-137868,-101594,-81547,-55013,-43774,-35381,-12120,20311,58288,64306,91778,115145,157307,180632,210777,215541,229729,250661,264883,279774,304116,324597,352348,376718,388634,391255,397175,423436,439932,443738,456434,459200,499776,518571],
[-581884,-491070,-408877,-374915,-341721,-317764,-285533,-279993,-247865,-236310,-217046,-216589,-207439,-189871,-187980,-143676,-108803,-97559,-78032,-53015,-42796,-19381,19104,44369,67475,74851,104258,122497,171045,186700,235514,241571,266232,271215,275130,305906,315410,355113,356901,403990,426625,431130,445525,477720,490280,505362,530907,547502,572577,595178],
[-573479,-467907,-379730,-365647,-336746,-308588,-267741,-243086,-216655,-214539,-210470,-188866,-163659,-156368,-148969,-127636,-99325,-85018,-67258,-46551,-16157,9366,35941,67156,88364,118272,137821,140255,183469,212054,254961,282166,295682,300499,330748,359764,390444,391756,399979,426269,453590,478498,491024,494837,524557,546614,550236,571247,601075,606821],
[-559489,-460037,-367435,-335844,-303151,-282437,-247579,-218314,-206337,-191891,-161805,-141132,-127122,-106578,-87627,-67251,-45646,-14171,4287,20442,27588,54338,62637,70122,91804,120639,166347,188614,196095,224918,279689,306546,310762,332962,337520,368973,397711,429156,448386,452317,485216,502552,526789,536581,564588,583214,600862,601782,623340,625914],
[-540770,-451063,-341572,-323494,-280136,-264028,-239882,-187215,-166127,-148407,-117870,-87223,-66937,-56662,-56355,-55278,-19971,-10678,30391,33539,51480,63139,63325,77138,107135,125709,198895,216896,245038,275142,296398,330018,355568,361268,388818,421025,439252,441064,472827,475291,501301,525890,530242,564998,595124,620195,642339,666465,675271,700029],
[-512454,-422688,-332597,-319497,-249795,-240703,-239608,-163227,-147074,-118539,-88837,-70741,-39488,-31071,-21584,-16972,8588,30275,62572,79938,101011,123465,154880,181271,186645,192954,228157,248997,274091,279200,323797,354712,358758,377651,399430,429433,447336,460670,490780,514391,531911,539778,564299,586178,604783,652620,668438,677547,695431,727805],
[-482031,-412196,-301044,-270894,-221142,-201870,-200091,-152688,-128762,-114613,-57751,-43398,-39210,-5428,17531,38342,39538,69196,86234,92671,119179,155121,182335,207588,219227,247754,266301,269902,274834,306912,343720,367177,371273,393599,424758,456527,467886,500147,508472,516723,555402,557578,594602,621717,641040,674922,688344,698652,716091,759144],
[-471251,-407402,-275573,-255464,-200697,-168507,-155490,-141101,-116722,-91029,-29768,-21243,10474,27069,29780,62806,68445,80957,111311,113765,144487,176879,213413,245588,259542,270919,292709,307196,323288,355656,379005,410320,419766,441490,449584,469419,492016,526400,537752,568215,582842,609945,616577,624793,646217,703703,706781,722283,731800,771460],
[-444988,-404264,-270678,-231564,-180510,-167568,-148451,-109699,-90011,-82878,-5415,11314,19849,30486,31913,64745,77466,82542,122237,140568,159428,179804,232464,256936,278385,280861,300637,325379,332983,378455,388488,431409,444766,459184,474151,484066,520313,527228,540565,585526,586997,620243,636471,641214,667188,712222,721129,740434,755350,801170],
[-432125,-371642,-245768,-199481,-161429,-158220,-123538,-106740,-63314,-63272,6114,14604,31698,59033,85816,107334,117073,144118,164302,178936,207260,234482,264831,271219,298302,316607,319770,356070,378398,387384,410147,450924,458636,467520,476603,497244,529821,556323,583443,591401,591486,623151,639396,642167,691138,729460,747337,762119,788491,805939],
[-413133,-357758,-232427,-181600,-146525,-130825,-108044,-79653,-41797,-31823,6498,22676,33276,88473,113427,142492,175156,201950,220867,224532,228725,252179,280003,283115,326534,342264,363642,370321,391125,413567,434696,467876,475805,500184,519912,528408,533830,587205,587641,605474,609677,629366,640495,655708,692892,754201,767374,795245,824878,836056],
[-401754,-339850,-222814,-164351,-133920,-107766,-79348,-75814,-28279,-19814,20368,34990,35441,108169,141998,170380,187224,217151,243852,260786,283188,291515,294806,297270,344520,364742,377687,386248,395021,430235,466046,492264,509792,528087,535858,557101,573077,587372,590460,612791,623569,661699,661987,684856,713845,769389,786411,822925,846384,864678],
[-393691,-330338,-207432,-144893,-103001,-99730,-66536,-46603,-25919,2119,33660,55669,58774,123079,145479,186732,192266,235893,244602,277021,292328,318327,342916,362325,388044,420208,445796,464717,465240,481006,495680,523446,526440,544710,573790,578640,605158,607083,620989,622407,635529,674405,683805,697761,715166,787662,789582,843462,863404,868609],
[-368356,-327803,-175053,-130426,-101129,-93675,-44495,-21120,-13636,29056,65572,71229,95992,140849,173459,205360,237665,238398,265258,290239,310180,334210,370299,402448,412885,432633,455514,490690,504471,507937,510913,532328,534034,546666,591391,606042,627685,653244,681900,699466,709410,725229,751019,783387,803840,828761,842893,844469,874676,898561]])

    #,[-364391,-319893,-152796,-117264,-90410,-84825,-25237,-2257,2591,47298,73827,74044,125694,146100,196547,210521,238672,263117,265359,300070,338822,346974,398444,410679,433547,454895,459731,507917,507999,527895,530270,538417,563862,574895,617145,622696,659260,686553,709913,722301,743932,773515,794610,804642,814008,831343,846398,862524,886303,929043],[-346081,-301108,-138499,-90825,-81276,-73894,-10143,15596,27915,72459,74737,80215,152337,175851,225171,228757,266670,268942,273876,300134,366469,385715,420727,438429,461970,491048,518240,533778,539238,558610,564401,572531,599818,610774,637045,647590,674932,716344,716832,745408,761918,784100,802754,828773,852988,854786,870184,891026,920696,938522],[-327243,-272689,-116837,-77361,-49973,-22632,10481,33280,47060,103596,114157,126887,183298,203094,237011,244356,290081,292096,321718,328704,393080,420149,443062,473660,496188,512465,536408,547376,560639,581912,614386,644637,651339,676729,689087,704230,721824,748269,766669,798077,805327,814072,831897,839241,882119,900441,923777,949656,961661,976406],[-309754,-257809,-111847,-68924,-46380,-14483,31735,59045,75270,106881,123936,144510,189667,234923,246473,253906,314175,339108,371025,375487,417030,444585,466755,484815,507096,540136,540796,558194,576503,597790,629230,646852,680060,691683,695510,704407,722469,775229,798727,801986,816071,825934,850003,861375,902762,913910,935511,978547,978882,1002907],[-305853,-252698,-99237,-55508,-29592,-6508,55376,72219,79546,132782,142853,166405,194434,256251,288120,289570,332792,363102,393132,396970,441915,447432,478248,494404,518565,565639,580176,607784,615134,633292,633548,653775,703823,731905,758180,770103,794208,800908,809869,824802,850805,866192,893822,913694,943060,946097,958991,980449,985369,1027699],[-293771,-236339,-68984,-37308,-16711,20923,76834,83035,109654,139247,174979,182027,196572,270463,298829,327858,342354,393563,414362,434310,444662,479236,491165,512536,544266,581090,595468,622270,630201,644361,653793,655539,717825,739861,779071,794414,821138,824504,831467,850926,881870,882846,893844,946192,947861,949344,966844,998330,1004745,1038625],[-268236,-203654,-43464,-26888,15335,49882,104837,116037,141862,171497,179968,189609,202717,278769,305617,345150,365222,424520,441229,462982,480988,502686,505279,541092,575088,586582,607412,625446,648570,674640,703673,726888,727546,742093,795974,805002,839244,870673,897185,903799,911675,939239,948722,964876,992295,1013413,1016565,1030988,1058502,1067037],[-238767,-187230,-11555,12062,31308,55128,128988,134961,172561,174069,185467,197837,227821,281848,321647,367251,399484,425405,466994,497601,511830,542715,554934,580175,591645,600917,607554,631013,665399,706510,725897,754656,785395,785455,814796,839443,854888,878525,917104,937807,945350,970124,993742,999768,1008645,1027683,1047344,1074427,1087609,1092935],[-233560,-166940,6391,23891,32763,67113,147401,152905,180435,194512,224324,225100,241663,291471,325311,398671,406751,438360,478923,509409,513549,551507,562730,596453,618082,635187,663579,682744,684286,729138,746271,776887,815915,831700,864410,869673,882607,897612,939521,943483,974054,996326,1021443,1034496,1039974,1051233,1065564,1093163,1111758,1142740],[-216192,-144698,34287,34296,50178,98054,154207,182048,183688,204346,250740,270042,290617,323495,330096,419802,441628,472790,506613,510502,513775,568578,569360,623732,643283,669753,700634,730055,745220,759844,761298,788487,827877,840140,866578,898915,899778,905699,951541,964887,985532,1004374,1025848,1034522,1057377,1085819,1106339,1135442,1150599,1158725],[-212991,-137001,45814,50844,69777,113018,185153,213643,218421,218858,259506,289519,319013,330984,340689,421958,442941,478217,521363,544128,574335,577339,588052,656232,674916,693292,719556,748587,780593,801807,812631,828155,832624,851988,868923,905802,912776,938237,964164,968392,1000485,1033969,1049110,1063341,1064306,1113115,1138725,1170795,1183813,1190272],[-184338,-124515,60181,75116,93830,113530,215726,217702,239496,262150,281274,289999,326984,362331,369736,450426,452073,487684,533986,566235,591565,622704,650038,686927,693098,719192,729701,751458,790777,827291,828709,845760,876852,894570,903206,929028,952132,975071,985679,1000320,1004932,1042914,1069230,1093419,1100184,1143630,1173534,1185593,1208635,1221540],[-173440,-102006,60315,99221,116286,137246,219637,248915,257595,280786,294530,299466,332387,389367,417364,479294,496508,519978,546518,577193,595642,649709,682604,711315,711855,726485,738100,769102,791553,847841,879850,910499,912912,913157,929189,952303,953577,997806,1012864,1025332,1033014,1059594,1089379,1116076,1123616,1174994,1184927,1202482,1213000,1254303],[-164002,-98262,93031,114039,138813,169788,236700,266234,281322,308369,330253,348938,360375,413291,430750,495223,518847,520249,552823,607909,638856,659363,693699,737446,754651,784155,816536,846643,864289,895868,921357,945526,950043,954676,983849,1008338,1015477,1019488,1040384,1052612,1082685,1107113,1114813,1125172,1152330,1175027,1215023,1235634,1245898,1277213],[-161820,-86311,120586,123383,154508,201873,261260,272262,296712,336828,347812,353918,390890,438314,460572,509112,519696,529490,556672,638324,660473,664725,718548,742631,767635,816457,847875,860235,895944,915553,926164,969752,970666,974810,1014882,1034818,1045909,1054282,1084890,1112903,1145222,1149184,1181923,1195439,1223176,1241807,1264443,1293148,1323042,1348766],[-147075,-72500,142219,169346,174051,229057,264668,275134,323037,366125,388900,395879,427870,470954,494677,526462,545868,549988,569161,654192,685235,689566,722844,747448,779673,832306,866160,875959,928132,938564,949633,974384,1000941,1003148,1031066,1039839,1054629,1068773,1104286,1117237,1177089,1209638,1210638,1241689,1262249,1270219,1272965,1294359,1343916,1358777],[-119144,-66626,172451,177074,202579,247865,291157,307882,351922,390965,403902,419556,440061,483809,505328,550618,576728,591406,602869,671977,697519,724551,744141,764579,801915,862890,897516,902779,938540,947353,965141,981667,1026460,1043195,1048909,1078829,1081568,1087639,1111555,1118669,1190652,1222904,1249140,1281488,1293474,1317569,1338908,1362125,1394440,1417713],[-97850,-45406,180612,181506,213872,272005,295330,339259,379858,401924,433945,466678,467467,495496,537055,560613,585960,604052,619896,702143,703409,725887,761618,776208,805304,875539,928684,945860,977898,999697,1008232,1027719,1042547,1047683,1058470,1103637,1117054,1126733,1147870,1163069,1198307,1231331,1270577,1286762,1317846,1337366,1339230,1363595,1395969,1430939],[-75037,-16706,187851,216202,229287,284453,303125,343184,381217,410736,434749,489531,509173,522677,539529,570707,614197,620370,637411,710843,720081,743977,763272,786938,824429,903145,948934,956555,986873,1028176,1038085,1061560,1085183,1095122,1103711,1113108,1148264,1178012,1183586,1201291,1228532,1252164,1271981,1296637,1342883,1347127,1375558,1387490,1415591,1452289],[-44383,-12775,216335,248392,257728,312313,313635,352615,386575,442414,472302,508306,539106,571244,598708,618741,624864,640640,670611,711597,749489,779165,805266,819923,851140,915586,958652,970782,993725,1041772,1055670,1082307,1099799,1123980,1124624,1129702,1179387,1180588,1204584,1233999,1248040,1281784,1309876,1329794,1368300,1393185,1413163,1425113,1443171,1453323],[-18525,2488,231029,260846,283593,334667,356135,364039,403629,455970,489054,523912,556805,596672,610938,632006,636162,645575,673538,711735,758753,786665,837781,856003,882990,918254,985388,1002474,1031261,1051088,1070151,1112637,1140827,1161569,1190500,1191619,1210054,1225635,1238999,1258694,1276404,1288200,1316976,1345202,1382404,1421993,1440666,1467281,1479271,1501884],[7000,32446,235781,293436,325071,362239,372276,397100,436152,477006,514251,532018,572462,614969,621320,650932,660497,688177,711814,715695,773479,805687,845729,866114,909182,925634,1013564,1042989,1056749,1058653,1092863,1117701,1144936,1170863,1213042,1215145,1247579,1250345,1269419,1271271,1286069,1301392,1339471,1354617,1408894,1445943,1466804,1467567,1505411,1528179],[32273,34366,258304,316610,334705,362247,397319,412912,464813,507939,541735,562922,600186,634017,642751,662781,684175,703358,719629,720146,796705,807477,870108,902581,919598,945094,1017319,1064302,1091070,1100637,1118790,1131038,1164415,1200343,1231405,1261387,1266082,1271831,1293061,1321341,1347627,1356968,1365908,1381900,1420150,1467700,1479877,1504548,1507463,1540429],[45900,71212,275525,332489,347537,378670,418001,434810,484754,538429,546455,577635,624614,652928,664535,677697,685436,721180,721838,734779,797289,838077,878335,913894,942535,974558,1033229,1088956,1112075,1115555,1126034,1135426,1189236,1229759,1252792,1285482,1296003,1326590,1355282,1373200,1374303,1393665,1420167,1425339,1444615,1497409,1513634,1529392,1549801,1560951],[76553,105248,291023,337130,351181,401767,438620,458374,496335,566369,576412,609632,647992,660724,665525,688868,704985,749097,770295,776659,816351,849671,900113,915782,968191,999222,1044030,1117478,1141827,1148703,1160039,1175006,1211571,1245851,1273875,1313205,1331350,1334642,1358587,1397062,1423595,1444146,1464821,1491850,1505161,1516186,1533624,1548627,1557202,1578514],[93423,108402,309415,361665,371734,407107,465483,472823,504468,595296,598739,636412,673274,688091,715355,740607,746851,759352,771313,790582,838842,876235,916438,929365,997963,999839,1058679,1125227,1144863,1149047,1186871,1191622,1214909,1257600,1303605,1336224,1346017,1350784,1373455,1404223,1445016,1453675,1493313,1515862,1548453,1558007,1582303,1611797,1638241,1661653]]